<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JsonToTable Examples (v3.6)</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome (optional) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style>
    html { scroll-behavior: smooth; } /* ✅ smooth scrolling */

    body { background:#f7f7fb; }

    .shell { max-width: 1200px; }
    .cardx { border:0; border-radius:16px; box-shadow:0 6px 20px rgba(0,0,0,.06); }
    .code {
      background:#0b1220; color:#e7ecff; border-radius:14px;
      padding:14px 16px; overflow:auto;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-size:.92rem; line-height:1.35rem;
    }
    .k { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace; }
    .anchor { scroll-margin-top: 90px; }
    .demo-wrap { background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:14px; padding:14px; }
    .mini-note { color:#6c757d; font-size:.9rem; }

    /* ✅ sticky sidebar */
    .sidebar-sticky { position: sticky; top: 90px; }

    /* ✅ sidebar scroll if long */
    .sidebar-card { max-height: calc(100vh - 120px); overflow-y: auto; }

    /* ✅ active link styling */
    .toc-link {
      display: block;
      padding: .35rem .5rem;
      border-radius: .6rem;
      color: #0f172a;
      text-decoration: none;
    }
    .toc-link:hover { background: rgba(13,110,253,.08); }
    .toc-link.active {
      background: rgba(13,110,253,.14);
      color: #0d6efd;
      font-weight: 700;
    }

    /* ✅ accordion tweaks */
    .accordion-button { padding: .6rem .75rem; border-radius: .75rem; }
    .accordion-item { border: 0; }
    .accordion-button:not(.collapsed) { box-shadow: none; }
    .accordion-body { padding: .25rem .25rem .5rem .25rem; }
  </style>
</head>

<body>
  <!-- ✅ Title-only Navbar (no buttons) -->
  <nav class="navbar bg-white border-bottom sticky-top">
    <div class="container shell">
      <a class="navbar-brand fw-semibold" href="docs.html">
        <i class="fa-solid fa-table me-2"></i>JsonToTable
        <span class="badge text-bg-primary ms-2">Examples</span>
      </a>
    </div>
  </nav>

  <main class="container shell py-4">
    <div class="row g-4">

      <!-- ✅ Sticky, Collapsible Grouped Sidebar -->
      <aside class="col-12 col-lg-3">
        <div class="sidebar-sticky">
          <div class="card cardx p-3 sidebar-card">
            <div class="d-flex align-items-center justify-content-between">
              <div class="fw-semibold">Examples Index</div>
              <span class="mini-note">Grouped</span>
            </div>
            <hr class="my-3">

            <div class="accordion" id="tocAccordion">

              <!-- Base -->
              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#toc_base" aria-expanded="true">
                    Base
                  </button>
                </h2>
                <div id="toc_base" class="accordion-collapse collapse show" data-bs-parent="#tocAccordion">
                  <div class="accordion-body">
                    <a class="toc-link" href="#base" data-target="#base">Base (mandatory only)</a>
                  </div>
                </div>
              </div>

              <!-- UI -->
              <div class="accordion-item mt-2">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#toc_ui">
                    UI
                  </button>
                </h2>
                <div id="toc_ui" class="accordion-collapse collapse" data-bs-parent="#tocAccordion">
                  <div class="accordion-body">
                    <a class="toc-link" href="#pagesize" data-target="#pagesize">pageSize</a>
                    <a class="toc-link" href="#ui-searchbar" data-target="#ui-searchbar">ui.SearchBar</a>
                    <a class="toc-link" href="#ui-filterbutton" data-target="#ui-filterbutton">ui.FilterButton</a>
                    <a class="toc-link" href="#ui-exportcsv" data-target="#ui-exportcsv">ui.ExportCSV</a>
                    <a class="toc-link" href="#initialsort" data-target="#initialsort">initialSort</a>
                  </div>
                </div>
              </div>

              <!-- Columns -->
              <div class="accordion-item mt-2">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#toc_columns">
                    Columns
                  </button>
                </h2>
                <div id="toc_columns" class="accordion-collapse collapse" data-bs-parent="#tocAccordion">
                  <div class="accordion-body">
                    <a class="toc-link" href="#column-label" data-target="#column-label">columns.label</a>
                    <a class="toc-link" href="#column-render-money" data-target="#column-render-money">columns.render = "money"</a>
                    <a class="toc-link" href="#column-render-unix" data-target="#column-render-unix">columns.render = "unixSecondsToLocal"</a>
                    <a class="toc-link" href="#column-sortable-false" data-target="#column-sortable-false">columns.sortable = false</a>
                  </div>
                </div>
              </div>

              <!-- Filters -->
              <div class="accordion-item mt-2">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#toc_filters">
                    Filters
                  </button>
                </h2>
                <div id="toc_filters" class="accordion-collapse collapse" data-bs-parent="#tocAccordion">
                  <div class="accordion-body">
                    <a class="toc-link" href="#filter-text" data-target="#filter-text">filter.type = "text"</a>
                    <a class="toc-link" href="#filter-checkbox" data-target="#filter-checkbox">filter.type = "checkbox"</a>
                    <a class="toc-link" href="#filter-radio" data-target="#filter-radio">filter.type = "radio"</a>
                    <a class="toc-link" href="#filter-numberrange" data-target="#filter-numberrange">filter.type = "number-range"</a>
                    <a class="toc-link" href="#filter-daterange" data-target="#filter-daterange">filter.type = "date-range"</a>
                  </div>
                </div>
              </div>

              <!-- Events -->
              <div class="accordion-item mt-2">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#toc_events">
                    Events
                  </button>
                </h2>
                <div id="toc_events" class="accordion-collapse collapse" data-bs-parent="#tocAccordion">
                  <div class="accordion-body">
                    <a class="toc-link" href="#actions" data-target="#actions">actions</a>
                    <a class="toc-link" href="#onfiltered" data-target="#onfiltered">onFiltered(fn)</a>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </aside>

      <!-- CONTENT -->
      <section class="col-12 col-lg-9">

        <!-- Intro -->
        <div class="card cardx p-4">
          <h1 class="fw-bold mb-1">Examples</h1>
          <div class="mini-note">
            Each section demonstrates <b>one attribute only</b>, with the minimum required configuration.
          </div>
          <div class="mini-note">
            Live demos are isolated per section (each demo uses its own container and its own instance).
          </div>
        </div>

        <!-- Demo dataset -->
        <div class="card cardx p-4 mt-4">
          <h2 class="fw-bold h5 mb-3">Demo Data Used</h2>
          <div class="code"><pre class="mb-0"><code>const DEMO_DATA = [
  { ID: 1, DESCRIPTION: "Invoice Payment", AMOUNT: 1250.50, STATUS: "Open", TIME: 1734200000 },
  { ID: 2, DESCRIPTION: "Site Material",   AMOUNT: -320.00, STATUS: "Closed", TIME: 1734300000 },
  { ID: 3, DESCRIPTION: "Service Fee",     AMOUNT:  75.00, STATUS: "Open", TIME: 1734400000 },
  { ID: 4, DESCRIPTION: "Penalty",         AMOUNT: -50.00, STATUS: "Open", TIME: 1734500000 }
];</code></pre></div>
        </div>

        <!-- BASE -->
        <div class="card cardx p-4 mt-4 anchor" id="base">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">Base Example (mandatory only)</h2>
            <span class="badge text-bg-secondary">Base</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Create a table using only the required constructor and <span class="k">load()</span>.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable(containerId).load(dataArray);</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_base").load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_base"></div></div>
        </div>

        <!-- pageSize -->
        <div class="card cardx p-4 mt-4 anchor" id="pagesize">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">pageSize</h2>
            <span class="badge text-bg-primary">config</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Set number of rows per page.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>.config({ pageSize: number })</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_pagesize")
  .config({ pageSize: 2 })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_pagesize"></div></div>
        </div>

        <!-- ui.SearchBar -->
        <div class="card cardx p-4 mt-4 anchor" id="ui-searchbar">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">ui.SearchBar</h2>
            <span class="badge text-bg-primary">ui</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Enable/disable the global search bar.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>.config({ ui: { SearchBar: boolean } })</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_searchbar")
  .config({ ui: { SearchBar: false } })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_searchbar"></div></div>
        </div>

        <!-- ui.FilterButton -->
        <div class="card cardx p-4 mt-4 anchor" id="ui-filterbutton">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">ui.FilterButton</h2>
            <span class="badge text-bg-primary">ui</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Enable/disable the filter modal button.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>.config({ ui: { FilterButton: boolean } })</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_filterbutton")
  .config({ ui: { FilterButton: false } })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_filterbutton"></div></div>
        </div>

        <!-- ui.ExportCSV -->
        <div class="card cardx p-4 mt-4 anchor" id="ui-exportcsv">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">ui.ExportCSV</h2>
            <span class="badge text-bg-primary">ui</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Enable/disable the CSV export icon button in the footer center.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>.config({ ui: { ExportCSV: boolean } })</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_exportcsv")
  .config({ ui: { ExportCSV: false } })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_exportcsv"></div></div>
        </div>

        <!-- initialSort -->
        <div class="card cardx p-4 mt-4 anchor" id="initialsort">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">initialSort</h2>
            <span class="badge text-bg-primary">config</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Apply a default sort when the table initializes.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>.config({ initialSort: { key: string, dir: "asc" | "desc" } })</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_initialsort")
  .config({ initialSort: { key: "AMOUNT", dir: "asc" } })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_initialsort"></div></div>
        </div>

        <!-- columns.label -->
        <div class="card cardx p-4 mt-4 anchor" id="column-label">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">columns.label</h2>
            <span class="badge text-bg-success">columns</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Override the header label for a column.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>.config({ columns: [{ key: string, label: string }] })</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_label")
  .config({
    columns: [
      { key: "ID", label: "Record #" },
      { key: "DESCRIPTION" },
      { key: "AMOUNT" },
      { key: "STATUS" },
      { key: "TIME" }
    ]
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_label"></div></div>
        </div>

        <!-- columns.render = money -->
        <div class="card cardx p-4 mt-4 anchor" id="column-render-money">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">columns.render = "money"</h2>
            <span class="badge text-bg-success">render</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Format numeric values as money (+ for positive, red for negative).</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>{ key: "AMOUNT", render: "money" }</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_money")
  .config({
    columns: [
      { key: "ID" },
      { key: "DESCRIPTION" },
      { key: "AMOUNT", render: "money" },
      { key: "STATUS" },
      { key: "TIME" }
    ]
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_money"></div></div>
        </div>

        <!-- columns.render = unixSecondsToLocal -->
        <div class="card cardx p-4 mt-4 anchor" id="column-render-unix">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">columns.render = "unixSecondsToLocal"</h2>
            <span class="badge text-bg-success">render</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Display unix seconds as a local date/time string.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>{ key: "TIME", render: "unixSecondsToLocal" }</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_unix")
  .config({
    columns: [
      { key: "ID" },
      { key: "DESCRIPTION" },
      { key: "AMOUNT" },
      { key: "STATUS" },
      { key: "TIME", render: "unixSecondsToLocal" }
    ]
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_unix"></div></div>
        </div>

        <!-- columns.sortable = false -->
        <div class="card cardx p-4 mt-4 anchor" id="column-sortable-false">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">columns.sortable = false</h2>
            <span class="badge text-bg-success">sorting</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Disable sorting for a specific column header.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>{ key: "DESCRIPTION", sortable: false }</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_sortablefalse")
  .config({
    columns: [
      { key: "ID" },
      { key: "DESCRIPTION", sortable: false },
      { key: "AMOUNT" },
      { key: "STATUS" },
      { key: "TIME" }
    ]
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_sortablefalse"></div></div>
        </div>

        <!-- filter.type = text -->
        <div class="card cardx p-4 mt-4 anchor" id="filter-text">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">filter.type = "text"</h2>
            <span class="badge text-bg-warning">filter</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Add a text filter for a column inside the filter modal.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>{ key: "DESCRIPTION", filter: { type: "text" } }</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_filter_text")
  .config({
    columns: [
      { key: "ID" },
      { key: "DESCRIPTION", filter: { type: "text", datalist: true, mode: "contains" } },
      { key: "AMOUNT" },
      { key: "STATUS" },
      { key: "TIME" }
    ]
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_filter_text"></div></div>
        </div>

        <!-- filter.type = checkbox -->
        <div class="card cardx p-4 mt-4 anchor" id="filter-checkbox">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">filter.type = "checkbox"</h2>
            <span class="badge text-bg-warning">filter</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Add a checkbox filter (auto unique values), optionally searchable.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>{ key: "STATUS", filter: { type: "checkbox", searchable: true } }</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_filter_checkbox")
  .config({
    columns: [
      { key: "ID" },
      { key: "DESCRIPTION" },
      { key: "AMOUNT" },
      { key: "STATUS", filter: { type: "checkbox", searchable: true } },
      { key: "TIME" }
    ]
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_filter_checkbox"></div></div>
        </div>

        <!-- filter.type = radio -->
        <div class="card cardx p-4 mt-4 anchor" id="filter-radio">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">filter.type = "radio"</h2>
            <span class="badge text-bg-warning">filter</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Add a radio filter (All + options).</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>{ key: "STATUS", filter: { type: "radio", includeAll: true, options: [...] } }</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_filter_radio")
  .config({
    columns: [
      { key: "ID" },
      { key: "DESCRIPTION" },
      { key: "AMOUNT" },
      { key: "STATUS", filter: { type: "radio", includeAll: true, options: ["Open","Closed"] } },
      { key: "TIME" }
    ]
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_filter_radio"></div></div>
        </div>

        <!-- filter.type = number-range -->
        <div class="card cardx p-4 mt-4 anchor" id="filter-numberrange">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">filter.type = "number-range"</h2>
            <span class="badge text-bg-warning">filter</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Filter numeric values by min/max range.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>{ key: "AMOUNT", filter: { type: "number-range" } }</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_filter_numberrange")
  .config({
    columns: [
      { key: "ID" },
      { key: "DESCRIPTION" },
      { key: "AMOUNT", filter: { type: "number-range" } },
      { key: "STATUS" },
      { key: "TIME" }
    ]
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_filter_numberrange"></div></div>
        </div>

        <!-- filter.type = date-range -->
        <div class="card cardx p-4 mt-4 anchor" id="filter-daterange">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">filter.type = "date-range"</h2>
            <span class="badge text-bg-warning">filter</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Filter unix seconds by from/to date range.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>{ key: "TIME", filter: { type: "date-range" } }</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_filter_daterange")
  .config({
    columns: [
      { key: "ID" },
      { key: "DESCRIPTION" },
      { key: "AMOUNT" },
      { key: "STATUS" },
      { key: "TIME", filter: { type: "date-range" } }
    ]
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap"><div id="demo_filter_daterange"></div></div>
        </div>

        <!-- actions -->
        <div class="card cardx p-4 mt-4 anchor" id="actions">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">actions</h2>
            <span class="badge text-bg-danger">actions</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Add action buttons (view/edit/delete). Requires <span class="k">actions.idKey</span>.</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>.config({
  actions: {
    idKey: string,
    view?: (row) =&gt; string,
    edit?: (row) =&gt; string,
    delete?: async (row) =&gt; void
  }
})</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_actions")
  .config({
    actions: {
      idKey: "ID",
      view: (row) =&gt; "#view-" + row.ID,
      edit: (row) =&gt; "#edit-" + row.ID,
      delete: async (row) =&gt; alert("Delete ID = " + row.ID)
    }
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap">
            <div id="demo_actions"></div>
            <div class="mini-note mt-2">Demo uses <span class="k">alert()</span> for delete.</div>
          </div>
        </div>

        <!-- onFiltered -->
        <div class="card cardx p-4 mt-4 anchor" id="onfiltered">
          <div class="d-flex align-items-center justify-content-between">
            <h2 class="fw-bold h4 mb-0">onFiltered(fn)</h2>
            <span class="badge text-bg-info">events</span>
          </div>
          <hr class="my-3">

          <h3 class="fw-semibold h6">Description</h3>
          <p class="mb-3">Subscribe to changes in filtered data (after filters/search/sort).</p>

          <h3 class="fw-semibold h6">Syntax</h3>
          <div class="code mb-3"><pre class="mb-0"><code>.onFiltered((rows) =&gt; { ... })</code></pre></div>

          <h3 class="fw-semibold h6">Code Example</h3>
          <div class="code mb-3"><pre class="mb-0"><code>new JsonToTable("demo_onfiltered")
  .onFiltered(rows =&gt; {
    document.getElementById("onfiltered_count").textContent = rows.length;
  })
  .load(DEMO_DATA);</code></pre></div>

          <h3 class="fw-semibold h6">Live Demo</h3>
          <div class="demo-wrap">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <div class="mini-note">Filtered rows count:</div>
              <div class="fw-semibold"><span id="onfiltered_count">0</span></div>
            </div>
            <div id="demo_onfiltered"></div>
          </div>
        </div>

        <div class="text-center mini-note mt-4">
          JsonToTable v3.6 — Examples Page
        </div>

      </section>
    </div>
  </main>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- JsonToTable class -->
  <!-- IMPORTANT: Replace with your actual class file path -->
  <script src="JsonToTable.js"></script>

  <script>
    // Demo Data
    const DEMO_DATA = [
      { ID: 1, DESCRIPTION: "Invoice Payment", AMOUNT: 1250.50, STATUS: "Open", TIME: 1734200000 },
      { ID: 2, DESCRIPTION: "Site Material",   AMOUNT: -320.00, STATUS: "Closed", TIME: 1734300000 },
      { ID: 3, DESCRIPTION: "Service Fee",     AMOUNT:  75.00, STATUS: "Open", TIME: 1734400000 },
      { ID: 4, DESCRIPTION: "Penalty",         AMOUNT: -50.00, STATUS: "Open", TIME: 1734500000 }
    ];

    // --- Base ---
    new JsonToTable("demo_base").load(DEMO_DATA);

    // --- pageSize ---
    new JsonToTable("demo_pagesize").config({ pageSize: 2 }).load(DEMO_DATA);

    // --- ui.SearchBar ---
    new JsonToTable("demo_searchbar").config({ ui: { SearchBar: false } }).load(DEMO_DATA);

    // --- ui.FilterButton ---
    new JsonToTable("demo_filterbutton").config({ ui: { FilterButton: false } }).load(DEMO_DATA);

    // --- ui.ExportCSV ---
    new JsonToTable("demo_exportcsv").config({ ui: { ExportCSV: false } }).load(DEMO_DATA);

    // --- initialSort ---
    new JsonToTable("demo_initialsort").config({ initialSort: { key: "AMOUNT", dir: "asc" } }).load(DEMO_DATA);

    // --- columns.label ---
    new JsonToTable("demo_label").config({
      columns: [
        { key: "ID", label: "Record #" },
        { key: "DESCRIPTION" },
        { key: "AMOUNT" },
        { key: "STATUS" },
        { key: "TIME" }
      ]
    }).load(DEMO_DATA);

    // --- columns.render = money ---
    new JsonToTable("demo_money").config({
      columns: [
        { key: "ID" },
        { key: "DESCRIPTION" },
        { key: "AMOUNT", render: "money" },
        { key: "STATUS" },
        { key: "TIME" }
      ]
    }).load(DEMO_DATA);

    // --- columns.render = unixSecondsToLocal ---
    new JsonToTable("demo_unix").config({
      columns: [
        { key: "ID" },
        { key: "DESCRIPTION" },
        { key: "AMOUNT" },
        { key: "STATUS" },
        { key: "TIME", render: "unixSecondsToLocal" }
      ]
    }).load(DEMO_DATA);

    // --- columns.sortable = false ---
    new JsonToTable("demo_sortablefalse").config({
      columns: [
        { key: "ID" },
        { key: "DESCRIPTION", sortable: false },
        { key: "AMOUNT" },
        { key: "STATUS" },
        { key: "TIME" }
      ]
    }).load(DEMO_DATA);

    // --- filter.type = text ---
    new JsonToTable("demo_filter_text").config({
      columns: [
        { key: "ID" },
        { key: "DESCRIPTION", filter: { type: "text", datalist: true, mode: "contains" } },
        { key: "AMOUNT" },
        { key: "STATUS" },
        { key: "TIME" }
      ]
    }).load(DEMO_DATA);

    // --- filter.type = checkbox ---
    new JsonToTable("demo_filter_checkbox").config({
      columns: [
        { key: "ID" },
        { key: "DESCRIPTION" },
        { key: "AMOUNT" },
        { key: "STATUS", filter: { type: "checkbox", searchable: true } },
        { key: "TIME" }
      ]
    }).load(DEMO_DATA);

    // --- filter.type = radio ---
    new JsonToTable("demo_filter_radio").config({
      columns: [
        { key: "ID" },
        { key: "DESCRIPTION" },
        { key: "AMOUNT" },
        { key: "STATUS", filter: { type: "radio", includeAll: true, options: ["Open","Closed"] } },
        { key: "TIME" }
      ]
    }).load(DEMO_DATA);

    // --- filter.type = number-range ---
    new JsonToTable("demo_filter_numberrange").config({
      columns: [
        { key: "ID" },
        { key: "DESCRIPTION" },
        { key: "AMOUNT", filter: { type: "number-range" } },
        { key: "STATUS" },
        { key: "TIME" }
      ]
    }).load(DEMO_DATA);

    // --- filter.type = date-range ---
    new JsonToTable("demo_filter_daterange").config({
      columns: [
        { key: "ID" },
        { key: "DESCRIPTION" },
        { key: "AMOUNT" },
        { key: "STATUS" },
        { key: "TIME", filter: { type: "date-range" } }
      ]
    }).load(DEMO_DATA);

    // --- actions ---
    new JsonToTable("demo_actions").config({
      actions: {
        idKey: "ID",
        view: (row) => "#view-" + row.ID,
        edit: (row) => "#edit-" + row.ID,
        delete: async (row) => alert("Delete ID = " + row.ID)
      }
    }).load(DEMO_DATA);

    // --- onFiltered ---
    new JsonToTable("demo_onfiltered")
      .onFiltered(rows => {
        document.getElementById("onfiltered_count").textContent = rows.length;
      })
      .load(DEMO_DATA);

    // ✅ Active section highlighting (IntersectionObserver)
    (function () {
      const links = Array.from(document.querySelectorAll(".toc-link[data-target]"));
      const targets = links
        .map(a => document.querySelector(a.getAttribute("data-target")))
        .filter(Boolean);

      function setActive(id) {
        links.forEach(a => a.classList.toggle("active", a.getAttribute("data-target") === "#" + id));
      }

      // click -> activate immediately
      links.forEach(a => {
        a.addEventListener("click", () => {
          const t = a.getAttribute("data-target")?.slice(1);
          if (t) setActive(t);
        });
      });

      const obs = new IntersectionObserver((entries) => {
        const visible = entries
          .filter(e => e.isIntersecting)
          .sort((a, b) => b.intersectionRatio - a.intersectionRatio)[0];

        if (visible?.target?.id) setActive(visible.target.id);
      }, {
        root: null,
        rootMargin: "-20% 0px -65% 0px",
        threshold: [0.05, 0.1, 0.2, 0.35, 0.5, 0.7, 0.9]
      });

      targets.forEach(el => obs.observe(el));

      const hashId = (location.hash || "").replace("#", "");
      if (hashId) setActive(hashId);
      else if (targets[0]?.id) setActive(targets[0].id);
    })();
  </script>
</body>
</html>
